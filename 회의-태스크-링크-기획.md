# 회의 ↔ 태스크 양방향 링크 기획

## 문제 정의

캘린더에 날짜 배정 = "그날 실행한다"는 의미인데, 회의 아젠다로 쓰려고 오늘에 몰아넣으면 실제 할 일과 섞여서 계획 뷰가 무너짐.

**핵심:** "오늘 할 일"과 "오늘 논의할 일"이 구분이 안 되는 것.

---

## 제안: 태스크 ↔ 회의 양방향 링크 구조

태스크에 "날짜 배정"이 아니라 **"회의 배정"** 개념을 추가.

### 1) 회의(Event) 레이어 추가
- Google Calendar에서 오늘/이번주 회의를 가져옴
- 캘린더 뷰에 회의 블록이 시간대별로 표시됨
- 태스크와는 별개의 존재

### 2) 태스크 → 회의 링크
- 태스크를 회의 블록에 드래그하면 "이 회의에서 논의" 관계가 생김
- 태스크의 scheduledDate는 변하지 않음 (혹은 아예 미배정 상태 유지)
- 대신 `linkedEvent: "회의ID"` 속성이 붙음
- 캘린더에서 회의 블록 옆에 작은 칩으로 "관련 태스크 3건" 표시

### 3) 회의 → 태스크 역참조
- 회의를 클릭하면 링크된 태스크 목록이 보임 = 아젠다
- 회의 끝나고 회의록 URL을 붙이면 태스크에서도 "관련 회의록" 링크로 접근 가능
- 양방향 내비게이션

### 4) 시각적 구분
- 캘린더 뷰에서:
  - "오늘 할 일" = 기존 태스크 칩 (날짜 배정된 것)
  - "오늘 논의할 일" = 회의 블록 아래 태스크 (날짜 배정 아닌, 회의 링크된 것)
- 색상이나 아이콘으로 구분
  - 📅 = 실행 예정
  - 🗣️ = 회의 아젠다

---

## 데이터 모델 변화

```
태스크 기존:  scheduledDate, planBucket
태스크 추가:  linkedEvents: [{eventId, calendarId, title, date}]

회의(Event):  {eventId, title, start, end, calendarId,
              linkedTaskIds: [...], meetingNoteUrl}
```

---

## 워크플로우 시나리오

- **회의 준비:** 좌측에서 관련 태스크를 회의 블록에 드래그 → 아젠다 완성
- **회의 중:** 회의 클릭 → 링크된 태스크 목록 보면서 진행
- **회의 후:** 회의록 URL 첨부 → 태스크에서 "🗣️ 2/20 주간회의" 클릭하면 회의록으로 이동
- **태스크 추적:** 태스크 상세뷰에서 "이 태스크가 논의된 회의들" 히스토리 확인

---

## Google Calendar 연동 범위

- **읽기:** 오늘~이번주 이벤트 목록 fetch (제목, 시간, ID)
- **쓰기 (선택):** 회의 description에 아젠다 태스크 링크 주입
- OAuth 필요 → 서버 or 클라이언트 사이드 Google API

---

## 구현 단계

1. Google Calendar API 연동 (이벤트 읽기)
2. 캘린더 뷰에 회의 블록 렌더링
3. 태스크 ↔ 회의 드래그 링크
4. 회의 상세뷰 (아젠다 + 회의록 URL)
5. 태스크 상세뷰에 "관련 회의" 섹션
